location: westus
name: app-with-ssl
properties:
  containers:
    - name: my-app
      properties:
        image: rproenza86/mws-restaurant:v0.0.2
        ports:
          - port: 8080
            protocol: TCP
          - port: 1337
            protocol: TCP
        resources:
          requests:
            cpu: 1.0
            memoryInGB: 1.5
    - name: nginx-with-ssl
      properties:
        image: nginx
        ports:
          - port: 443
            protocol: TCP
          - port: 8082
            protocol: TCP
        resources:
          requests:
            cpu: 1.0
            memoryInGB: 1.5
        volumeMounts:
          - name: nginx-config
            mountPath: /etc/nginx
  volumes:
    - secret:
        ssl.crt: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqakNDQW5ZQ0NRRDdlSlhZcFNVQWt6
          QU5CZ2txaGtpRzl3MEJBUXNGQURDQmlERUxNQWtHQTFVRUJoTUMKVlZNeEVEQU9CZ05WQkFn
          TUIwZGxiM0puYVdFeEVEQU9CZ05WQkFjTUIwRjBiR0Z1ZEdFeEdEQVdCZ05WQkFvTQpEMUpo
          ZFd3Z1VpNGdVSEp2Wlc1NllURVdNQlFHQTFVRUN3d05RWFJ2YldsaklFTnZaR1Z5Y3pFak1D
          RUdDU3FHClNJYjNEUUVKQVJZVWNuQnliMlZ1ZW1FNE5rQm5iV0ZwYkM1amIyMHdIaGNOTVRn
          eE1ERTJNVEl6TWpRMVdoY04KTVRreE1ERTJNVEl6TWpRMVdqQ0JpREVMTUFrR0ExVUVCaE1D
          VlZNeEVEQU9CZ05WQkFnTUIwZGxiM0puYVdFeApFREFPQmdOVkJBY01CMEYwYkdGdWRHRXhH
          REFXQmdOVkJBb01EMUpoZFd3Z1VpNGdVSEp2Wlc1NllURVdNQlFHCkExVUVDd3dOUVhSdmJX
          bGpJRU52WkdWeWN6RWpNQ0VHQ1NxR1NJYjNEUUVKQVJZVWNuQnliMlZ1ZW1FNE5rQm4KYldG
          cGJDNWpiMjB3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ2hy
          enlYZitTVwprZUxiZG5rUnMyYW9WWEh3Z2ZZbU9tNjZpaGI2VTVGdEI5Z2hmL09rMlhPSWZW
          dGRLUmFUUTlRall5OXFCZzJxCndsVm1pNXQ5THlnK0dhaEptalJrM1ROaXlZbW5WeCsvOFhQ
          bjljWG01YzFKbjBSakdrZTBCOFBWbnlxRG5uaEQKQzk4ZU5UTkUxRTMvNVJlZG5qc1pGYStM
          Ymd4Z3J6aFJHd2lpRWdUbTZxMnRaZm16YTdYQlhtS2xVZFNISG40MApMb0lPcTdmblFQa2NT
          UW5sWCtqSFN2ZkNWTjRRNWZ1dDI4Q3dKWHNTQmRrK2RFd1lodWRPV0NZM0hVMkc2dmRjClR3
          SXpiL3dtOGVYVG04cGpsY3pTWkZyUUVuWTB3ME9lN1ptT2htczcwUHphZ2kyTHB1bHQvUlc1
          WndVaGx3eGYKcjlXb2Q4QWE2Z1p0QWdNQkFBRXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJB
          RGZodlhVbzJLWVRTTWUycmZDMApFdW9hdm5WMnhPRXNJMUNWbU1vM3NHcUJUR2tNb0JIdkkz
          OXRjNnIwUnAwOHBvY3NkcmJHMlhseERwejB0Q2hICkhHdFhRakdvRzhRRldTNlNTenFUNVkr
          RmhockM1Y29mV1BheHV3SFhCR1VLZ1Vmc21rbzhoQ2EvSGNkWkk1YmUKaVc0c01zdEtRU29F
          RE9PNENKaHRvMlpxaGdNK2FPOUFiQnV4OUV4aFloUCtpQ2FyeDFyT1hoTjJ6ajgwT3pUVgpC
          cEx6dzRJSlFVekc1VEJ6dDB5eHVOV0RQdzZySzF3N3RYZFBranhyWm9VZzhFVUoxc1pMUjYr
          dWlyejVzZG56CkREZW82Wks1TGc5c2g2eVlwa1BZeWhHeWVkUDhGUlhna0EwekNXazZSZm1t
          WUFnSUJmcHNqL3UwMFBrbWd3dHIKVVNjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=='
        ssl.key: 'LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFR
          RUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ2hyenlYZitTV2tlTGIKZG5rUnMyYW9WWEh3Z2ZZ
          bU9tNjZpaGI2VTVGdEI5Z2hmL09rMlhPSWZWdGRLUmFUUTlRall5OXFCZzJxd2xWbQppNXQ5
          THlnK0dhaEptalJrM1ROaXlZbW5WeCsvOFhQbjljWG01YzFKbjBSakdrZTBCOFBWbnlxRG5u
          aERDOThlCk5UTkUxRTMvNVJlZG5qc1pGYStMYmd4Z3J6aFJHd2lpRWdUbTZxMnRaZm16YTdY
          QlhtS2xVZFNISG40MExvSU8KcTdmblFQa2NTUW5sWCtqSFN2ZkNWTjRRNWZ1dDI4Q3dKWHNT
          QmRrK2RFd1lodWRPV0NZM0hVMkc2dmRjVHdJegpiL3dtOGVYVG04cGpsY3pTWkZyUUVuWTB3
          ME9lN1ptT2htczcwUHphZ2kyTHB1bHQvUlc1WndVaGx3eGZyOVdvCmQ4QWE2Z1p0QWdNQkFB
          RUNnZ0VCQUpZYlJybXdkdHlEWElZN20zTWZoM05Jd0p0MVRMMTVDa3dNNEFCUGpYZ1kKREVR
          dHNsbWR1SEZEVUl0UkZqQnFqSXkrRE1yMkM4STQ0V2h1dkZDZ2MxQVVLZlVMUVJGVGU5MS9G
          bGxSdlp4Sgo0ajI4STV1V1JkelFESUdsYUdSdndSU1d6TFdkYmpGdzJCZ0hkQzIyblNPeDRS
          Ym9UQjJoMEhRMkd5KzMvU1R0CjVqbzJaZkowMXo4cDlvOUJFOG92TE9qaUxUZ2Juby9CM0NY
          NkZlUnlWRFJtYWhxdHNiVGphOUhwN1dSeFZhUVYKellnZEZnL09QVW9HZVBkNnc3RXpvRU13
          MUcyWHFsUW5OSXFiQXd5djV4WXlLMm1MaDVYSVJQTDlCVjkxUERiRAo1aCsvZ2poYU5Eblcw
          QWt1RkJTangrUEt2ZEYraG9ZUE02OVJONE9DOEZFQ2dZRUEwcnMyajFNUVJzT0pacXRBCjdZ
          YWZ6dThwYnFjNUdQeHBWa0tmdnpVWEpGSStLS3pFamtOcisrMzZub2IraVdjY3JtNWFiRk9w
          RnZJQjVtZjEKc3A5OERRVlNuR1RGVDVraWhVOHRZaENlUnQ3WERXYmRIdUdQU1BXS0NsRUd4
          Rzhnc0FFS2gyN2NWL015SFpudgpuNEFMT0NUTFRydUJ2Y1o2MlpKaFh6eW5rOXNDZ1lFQXhH
          ckl6NkdCM3BNRG5NNFNYYTZzWHU3Q3ZJRmtlOWNEClgvaHptQWZ4MFllUjhqdEluYlRHS0JZ
          cXdjOGwwMzh5UDU5VytQSHgzaFZ1UzRMT3lqdmhiV1pMNmVoSkVObG0KVUFQejZqL1p1UVJR
          Wnl3dnJkbmdmRnRHQnA4MThXVUVKUGE3UHdsRnRpTWhYa0QrSzg4dUplclZicTk2SXBHawpv
          SW1ubTlaU2hWY0NnWUFHSXBVd0R3Y0dTR01UcmlDeHlaMlZkTGtNRTZwQjQvZGRINHR2RWFp
          ZTBoWWxNUUozCjhkYU8reHEweXRGV1JyNDdCZE4wRyt0c1U1ZGlrZHhCV3d0TmhiNGw5M2tY
          SENvNUgxais1ZVQxd3o4WGtNc1gKUHhIZzJlVXU3N1QydXhXRWlrTTROaTRNRVhTQUVCODkw
          WWlDRmZBbFZxZ3NVajc1WHAyZkhERDB5UUtCZ0JXNgpnbkNGdTJvMTlVWlpmYXFqY2lvbVc2
          Q2k1OHpUWW1veGdBZ25pTmJYR293amhzcjdmcGhjcTJvNVVrUHRaRStwCmZ1T1hVRnh6SG5w
          NEJBeFhSMzdrdkMwcUp6c1g4YnVVVkYxcnB0aFM0OW9tQnpoQ1RCVTF1NjlyMlhuVTVQcDUK
          MlFrR0s1SVVuTkppZWp1NmRhNTRKaGhTalQ1WndrNklLK1NQZHgyTkFvR0Fiem03d0kzN0dn
          MmtCY2UzZG1YdQpIVHFEZGEra2E2VkFuaktFKysxRDNaOSs3YkhickRXdjZ5a1BNajhJSjJN
          ank1aDhSTGowb0FRM0xLZVYvTVJ4Cm9rU0FyaExSVmpsRmhTbGQyOURmZHc1SW1wOU01bnE2
          T2dIb2pidjVHdGZBR0dGOWhrNzJnVkxlaytNa2I2RnIKNjF1VWs1TkVlNTU5OE1qT0d5MHBj
          dXc9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K'
        nginx.conf: 'IyBuZ2lueCBDb25maWd1cmF0aW9uIEZpbGUKIyBodHRwOi8vd2lraS5uZ2lueC5vcmcvQ29u
ZmlndXJhdGlvbgoKIyBSdW4gYXMgYSBsZXNzIHByaXZpbGVnZWQgdXNlciBmb3Igc2VjdXJp
dHkgcmVhc29ucy4KdXNlciBuZ2lueDsKCndvcmtlcl9wcm9jZXNzZXMgYXV0bzsKCmV2ZW50
cyB7CiAgd29ya2VyX2Nvbm5lY3Rpb25zIDEwMjQ7Cn0KCnBpZCAgICAgICAgL3Zhci9ydW4v
bmdpbngucGlkOwoKaHR0cCB7CgogICAgI1JlZGlyZWN0IHRvIGh0dHBzLCB1c2luZyAzMDcg
aW5zdGVhZCBvZiAzMDEgdG8gcHJlc2VydmUgcG9zdCBkYXRhCiAgICBzZXJ2ZXIgewogICAg
ICAgIGxpc3RlbiA4MDgyIGRlZmF1bHRfc2VydmVyOwogICAgICAgIGxpc3RlbiBbOjpdOjgw
ODIgZGVmYXVsdF9zZXJ2ZXI7CiAgICAgICAgc2VydmVyX25hbWUgXzsKICAgICAgICByZXR1
cm4gMzA3IGh0dHBzOi8vJGhvc3QkcmVxdWVzdF91cmk7CiAgICB9CgogICAgc2VydmVyIHsK
ICAgICAgICBsaXN0ZW4gWzo6XTo0NDMgc3NsOwogICAgICAgIGxpc3RlbiA0NDMgc3NsOwoK
ICAgICAgICBzZXJ2ZXJfbmFtZSBsb2NhbGhvc3Q7CgogICAgICAgICMgUHJvdGVjdCBhZ2Fp
bnN0IHRoZSBCRUFTVCBhdHRhY2sgYnkgbm90IHVzaW5nIFNTTHYzIGF0IGFsbC4gSWYgeW91
IG5lZWQgdG8gc3VwcG9ydCBvbGRlciBicm93c2VycyAoSUU2KSB5b3UgbWF5IG5lZWQgdG8g
YWRkCiAgICAgICAgIyBTU0x2MyB0byB0aGUgbGlzdCBvZiBwcm90b2NvbHMgYmVsb3cuCiAg
ICAgICAgc3NsX3Byb3RvY29scyAgICAgICAgICAgICAgVExTdjEgVExTdjEuMSBUTFN2MS4y
OwoKICAgICAgICAjIENpcGhlcnMgc2V0IHRvIGJlc3QgYWxsb3cgcHJvdGVjdGlvbiBmcm9t
IEJlYXN0LCB3aGlsZSBwcm92aWRpbmcgZm9yd2FyZGluZyBzZWNyZWN5LCBhcyBkZWZpbmVk
IGJ5IE1vemlsbGEgLSBodHRwczovL3dpa2kubW96aWxsYS5vcmcvU2VjdXJpdHkvU2VydmVy
X1NpZGVfVExTI05naW54CiAgICAgICAgc3NsX2NpcGhlcnMgICAgICAgICAgICAgICAgRUNE
SEUtUlNBLUFFUzEyOC1HQ00tU0hBMjU2OkVDREhFLUVDRFNBLUFFUzEyOC1HQ00tU0hBMjU2
OkVDREhFLVJTQS1BRVMyNTYtR0NNLVNIQTM4NDpFQ0RIRS1FQ0RTQS1BRVMyNTYtR0NNLVNI
QTM4NDpESEUtUlNBLUFFUzEyOC1HQ00tU0hBMjU2OkRIRS1EU1MtQUVTMTI4LUdDTS1TSEEy
NTY6a0VESCtBRVNHQ006RUNESEUtUlNBLUFFUzEyOC1TSEEyNTY6RUNESEUtRUNEU0EtQUVT
MTI4LVNIQTI1NjpFQ0RIRS1SU0EtQUVTMTI4LVNIQTpFQ0RIRS1FQ0RTQS1BRVMxMjgtU0hB
OkVDREhFLVJTQS1BRVMyNTYtU0hBMzg0OkVDREhFLUVDRFNBLUFFUzI1Ni1TSEEzODQ6RUNE
SEUtUlNBLUFFUzI1Ni1TSEE6RUNESEUtRUNEU0EtQUVTMjU2LVNIQTpESEUtUlNBLUFFUzEy
OC1TSEEyNTY6REhFLVJTQS1BRVMxMjgtU0hBOkRIRS1EU1MtQUVTMTI4LVNIQTI1NjpESEUt
UlNBLUFFUzI1Ni1TSEEyNTY6REhFLURTUy1BRVMyNTYtU0hBOkRIRS1SU0EtQUVTMjU2LVNI
QTpBRVMxMjgtR0NNLVNIQTI1NjpBRVMyNTYtR0NNLVNIQTM4NDpFQ0RIRS1SU0EtUkM0LVNI
QTpFQ0RIRS1FQ0RTQS1SQzQtU0hBOkFFUzEyODpBRVMyNTY6UkM0LVNIQTpISUdIOiFhTlVM
TDohZU5VTEw6IUVYUE9SVDohREVTOiEzREVTOiFNRDU6IVBTSzsKICAgICAgICBzc2xfcHJl
ZmVyX3NlcnZlcl9jaXBoZXJzICBvbjsKCiAgICAgICAgIyBPcHRpbWl6ZSBTU0wgYnkgY2Fj
aGluZyBzZXNzaW9uIHBhcmFtZXRlcnMgZm9yIDEwIG1pbnV0ZXMuIFRoaXMgY3V0cyBkb3du
IG9uIHRoZSBudW1iZXIgb2YgZXhwZW5zaXZlIFNTTCBoYW5kc2hha2VzLgogICAgICAgICMg
VGhlIGhhbmRzaGFrZSBpcyB0aGUgbW9zdCBDUFUtaW50ZW5zaXZlIG9wZXJhdGlvbiwgYW5k
IGJ5IGRlZmF1bHQgaXQgaXMgcmUtbmVnb3RpYXRlZCBvbiBldmVyeSBuZXcvcGFyYWxsZWwg
Y29ubmVjdGlvbi4KICAgICAgICAjIEJ5IGVuYWJsaW5nIGEgY2FjaGUgKG9mIHR5cGUgInNo
YXJlZCBiZXR3ZWVuIGFsbCBOZ2lueCB3b3JrZXJzIiksIHdlIHRlbGwgdGhlIGNsaWVudCB0
byByZS11c2UgdGhlIGFscmVhZHkgbmVnb3RpYXRlZCBzdGF0ZS4KICAgICAgICAjIEZ1cnRo
ZXIgb3B0aW1pemF0aW9uIGNhbiBiZSBhY2hpZXZlZCBieSByYWlzaW5nIGtlZXBhbGl2ZV90
aW1lb3V0LCBidXQgdGhhdCBzaG91bGRuJ3QgYmUgZG9uZSB1bmxlc3MgeW91IHNlcnZlIHBy
aW1hcmlseSBIVFRQUy4KICAgICAgICBzc2xfc2Vzc2lvbl9jYWNoZSAgICBzaGFyZWQ6U1NM
OjEwbTsgIyBhIDFtYiBjYWNoZSBjYW4gaG9sZCBhYm91dCA0MDAwIHNlc3Npb25zLCBzbyB3
ZSBjYW4gaG9sZCA0MDAwMCBzZXNzaW9ucwogICAgICAgIHNzbF9zZXNzaW9uX3RpbWVvdXQg
IDI0aDsKCgogICAgICAgICMgVXNlIGEgaGlnaGVyIGtlZXBhbGl2ZSB0aW1lb3V0IHRvIHJl
ZHVjZSB0aGUgbmVlZCBmb3IgcmVwZWF0ZWQgaGFuZHNoYWtlcwogICAgICAgIGtlZXBhbGl2
ZV90aW1lb3V0IDMwMDsgIyB1cCBmcm9tIDc1IHNlY3MgZGVmYXVsdAoKICAgICAgICAjIHJl
bWVtYmVyIHRoZSBjZXJ0aWZpY2F0ZSBmb3IgYSB5ZWFyIGFuZCBhdXRvbWF0aWNhbGx5IGNv
bm5lY3QgdG8gSFRUUFMKICAgICAgICBhZGRfaGVhZGVyIFN0cmljdC1UcmFuc3BvcnQtU2Vj
dXJpdHkgJ21heC1hZ2U9MzE1MzYwMDA7IGluY2x1ZGVTdWJEb21haW5zJzsKCiAgICAgICAg
c3NsX2NlcnRpZmljYXRlICAgICAgL2V0Yy9uZ2lueC9zc2wuY3J0OwogICAgICAgIHNzbF9j
ZXJ0aWZpY2F0ZV9rZXkgIC9ldGMvbmdpbngvc3NsLmtleTsKCiAgICAgICAgbG9jYXRpb24g
LyB7CiAgICAgICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL2xvY2FsaG9zdDo4MDsgIyBUT0RP
OiByZXBsYWNlIHdpdGggY29ycmVjdCBwb3J0CgogICAgICAgICAgICBwcm94eV9zZXRfaGVh
ZGVyIENvbm5lY3Rpb24gIiI7CiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAk
aG9zdDsKICAgICAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLVJlYWwtSVAgJHJlbW90ZV9h
ZGRyOwogICAgICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtRm9yd2FyZGVkLUZvciAkcmVt
b3RlX2FkZHI7CiAgICAgICAgfQoKICAgICAgICBsb2NhdGlvbiAvcmV2aWV3cy8gewogICAg
ICAgICAgICBwcm94eV9wYXNzIGh0dHA6Ly9sb2NhbGhvc3Q6MTMzNzsKCiAgICAgICAgICAg
IHByb3h5X3NldF9oZWFkZXIgQ29ubmVjdGlvbiAiIjsKICAgICAgICAgICAgcHJveHlfc2V0
X2hlYWRlciBIb3N0ICRob3N0OwogICAgICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtUmVh
bC1JUCAkcmVtb3RlX2FkZHI7CiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgWC1Gb3J3
YXJkZWQtRm9yICRyZW1vdGVfYWRkcjsKICAgICAgICB9CgogICAgICAgIGxvY2F0aW9uIC9y
ZXN0YXVyYW50cy8gewogICAgICAgICAgICBwcm94eV9wYXNzIGh0dHA6Ly9sb2NhbGhvc3Q6
MTMzNzsKCiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgQ29ubmVjdGlvbiAiIjsKICAg
ICAgICAgICAgcHJveHlfc2V0X2hlYWRlciBIb3N0ICRob3N0OwogICAgICAgICAgICBwcm94
eV9zZXRfaGVhZGVyIFgtUmVhbC1JUCAkcmVtb3RlX2FkZHI7CiAgICAgICAgICAgIHByb3h5
X3NldF9oZWFkZXIgWC1Gb3J3YXJkZWQtRm9yICRyZW1vdGVfYWRkcjsKCiAgICAgICAgICAg
IGFkZF9oZWFkZXIgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicgJyonOwogICAgICAg
IH0KICAgIH0KfQ=='
      name: nginx-config
  ipAddress:
    ports:
      - port: 443
        protocol: TCP
      - port: 8082
        protocol: TCP
      - port: 1337
        protocol: TCP
    type: Public
  osType: Linux
tags: null
type: Microsoft.ContainerInstance/containerGroups
